This file provides high-level installation steps for Greenplum
Database. For detailed installation, configuration and setup 
information see the 'Greenplum Database Installation Guide',
the 'Greenplum Database Database Administrator Guide', and
the 'Greenplum Database System Administrator Guide'
available from EMC Online Support site (http://support.emc.com)


***********************************************************
RUNNING THE GREENPLUM DATABASE INSTALLER
***********************************************************


1. Open a command-line terminal.

2. Execute the installer using bash:

   /bin/bash greenplum-db-4.3.x.x-<PLATFORM>.bin 

3. When prompted, type 'yes' to accept the license agreement.

4. When prompted, provide an installation path. Make sure you have 
   permissions to write to the installation directory you specify.
   For example:

   /usr/local/greenplum-db-4.3.x.x


***********************************************************
REQUIRED OS SYSTEM SETTINGS FOR GREENPLUM DATABASE
***********************************************************

These must be set on all Greenplum hosts (master and segments). 
Make sure you restart your system after adding or changing
kernel parameters.


----------------
MAC OS X
----------------

Add all of the following to /etc/sysctl.conf:

kern.sysv.shmmax=2147483648 
kern.sysv.shmmin=1 
kern.sysv.shmmni=64 
kern.sysv.shmseg=16 
kern.sysv.shmall=524288 
kern.maxfiles=65535 
kern.maxfilesperproc=65535 
net.inet.tcp.msl=60


If using DHCP, add the following line to /etc/hostconfig:

HOSTNAME="<your_hostname>"

You would then use this host name when exchanging ssh keys and 
when initializing your Greenplum Database system.


----------------
LINUX
----------------

In /etc/sysctl.conf: 

xfs_mount_options = rw,noatime,inode64,allocsize=16m
kernel.shmmax = 500000000
kernel.shmmni = 4096
kernel.shmall = 4000000000
kernel.sem = 250 512000 100 2048
kernel.sysrq = 1
kernel.core_uses_pid = 1
kernel.msgmnb = 65536
kernel.msgmax = 65536
kernel.msgmni = 2048
net.ipv4.tcp_syncookies = 1
net.ipv4.ip_forward = 0
net.ipv4.conf.default.accept_source_route = 0
net.ipv4.tcp_tw_recycle = 1
net.ipv4.tcp_max_syn_backlog = 4096
net.ipv4.conf.all.arp_filter = 1
net.ipv4.ip_local_port_range = 1025 65535
net.core.netdev_max_backlog = 10000
net.core.rmem_max = 2097152
net.core.wmem_max = 2097152
vm.overcommit_memory = 2


In /etc/security/limits.conf: 

* soft nofile 65536  
* hard nofile 65536  
* soft nproc 131072 
* hard nproc 131072 

In /etc/hosts:

Include the host names and all interface address names for every 
machine participating in your Greenplum Database system.


File system recommendations:

XFS is the preferred file system on Linux platforms for 
data storage. Greenplum recommends the following xfs mount 
options:

rw,noatime,inode64,allocsize=16m

Also, each disk device file should have a read-ahead value of 16384. 
For example, to verify the read-ahead value of a disk device:

# /sbin/blockdev --getra /dev/sdb

----------------
SOLARIS 10
----------------

In /etc/system:

set rlim_fd_cur=65536 
set zfs:zfs_arc_max=0x600000000 
set pcplusmp:apic_panic_on_nmi=1 
set nopanicdebug=1 


In /etc/project:

Change the following line: 

   default:3:::: 
to: 
   default:3:default 

project:::project.max-sem-ids=(priv,1024,deny); 

process.max-file-descriptor=(priv,252144,deny) 


In /etc/user_attr:

gpadmin::::defaultpriv=basic,dtrace_user,dtrace_proc


In /etc/hosts:

Include the host names and all interface address names for every 
machine participating in your Greenplum Database system.



***********************************************************
POST INSTALLATION STEPS
***********************************************************

These are the high-level steps to configure and initialize a new 
Greenplum Database instance. For detailed instructions, please 
see the 'Greenplum Database Installation Guide' available for
download from http://support.emc.com

1. Allocate a 'gpadmin' OS user to own and run your installation.
   This user must exist on all Greenplum hosts.

2. Source the greenplum_path.sh file in your 'gpadmin' user 
   profile (.bashrc) of your master host. This sets the 
   environment variables needed by Greenplum Database.

3. Use the gpseginstall utility to install and configure the
   Greenplum software on all hosts.

4. Create your data directory locations on all Greenplum hosts.

5. Use the gpinitsystem utility on the master host to 
   initialize and start your Greenplum Database system. This 
   utility requires a configuration file and a host file. 
   For example:

   gpinitsystem -c gpinitsystem_config -h hostfile_gpinitsystem

   A sample multi-node initialization configuration file can 
   be found in $GPHOME/docs/cli_help/gpconfigs/gpinitsystem_config.
 
   Edit the example files to reflect your desired Greenplum Database 
   configuration.
  


************************************************
ABOUT YOUR INSTALLATION
************************************************

The Greenplum Database installer installs the following files and 
directories:

* greenplum_path.sh - Greenplum Database environment variables.

* GPDB-LICENSE.txt - Greenplum license agreement.

* LICENSE.thirdparty - Licenses for third-party tools

* bin - Greenplum Database server programs, client programs, and 
        management tools.

* demo - Greenplum Database demonstration programs.

* docs - Greenplum Database documentation.

* etc - Sample configuration file for OpenSSL.

* ext - Bundled programs (such as Python) used by some 
        Greenplum Database utilities.

* include - Greenplum Database and PostgreSQL header files.

* lib - Greenplum Database and PostgreSQL library files.

* sbin - Supporting/Internal scripts and programs.

* share - PostgreSQL sample files and templates.



************************************************
GREENPLUM DATABASE DOCUMENTATION
************************************************

The following documentation is available for
download from http://support.emc.com

* Greenplum Database <version> Release Notes 
  Release notes for this version of Greenplum Database.
  The release notes contains a list of the current Greenplum
  Database documentation.

* Greenplum Database Installation Guide

* Greenplum Database Administrator Guide

* Greenplum Database System Administrator Guide

* Greenplum Database Reference Guide

* Greenplum Database Utility Guide

* Greenplum Database Installation Guide

* Greenplum Database Database Administrator Guide

* Greenplum Database System Administrator Guide

* Greenplum Database Reference Guide

* Greenplum Database Utility Guide

* Greenplum Database Client Tools for UNIX

* Greenplum Database Client Tools for Windows

* Greenplum Database Connectivity Tools for UNIX

* Greenplum Database Connectivity Tools for Windows

* Greenplum Database Load Tools for UNIX

* Greenplum Database Load Tools for Windows

* Greenplum Command Center Administrator Guide












